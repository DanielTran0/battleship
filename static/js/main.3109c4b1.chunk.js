(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{13:function(e,t,i){},15:function(e,t,i){"use strict";i.r(t);var r=i(1),n=i.n(r),s=i(8),a=i.n(s),c=(i(13),i(7)),o=i(2),u=i(5),l=i(0);var h=function(e){var t=Object(u.a)(Array(11).keys()).map((function(e,t){return 0===e?null:Object(l.jsx)("div",{className:"axisItem",children:e},t)})),i=["A","B","C","D","E","F","G","H","I","J"].map((function(e,t){return Object(l.jsx)("div",{className:"axisItem",children:e},t)})),r=function(t){if(e.computerBoard)return"";var i;if(e.ships.some((function(e){return e.coordinates.some((function(r){return i=e.details.name,JSON.stringify(r)===t}))}))){var r;switch(i){case"Carrier":r="gridShip1";break;case"Battleship":r="gridShip2";break;case"Destroyer":r="gridShip3";break;case"Submarine":r="gridShip4";break;case"Cruiser":r="gridShip5"}return r}return""},n=function(t){var i=e.missedHits.some((function(e){return JSON.stringify(e)===t})),r=e.successfulHits.some((function(e){return JSON.stringify(e)===t}));return i?Object(l.jsx)("i",{className:"fas fa-circle"}):r?"X":null},s=function(){for(var e=[],t=1;t<=10;t++)for(var i=1;i<=10;i++)e.push(JSON.stringify({x:i,y:t}));return e}().map((function(t,i){return Object(l.jsx)("div",{className:"square ".concat(!e.computerBoard||e.gameOver||n(t)?"":"clickable"," ").concat(r(t)," ").concat("X"===n(t)?"hit":""," ").concat((s=t,e.ships.some((function(e){return e.coordinates.some((function(t){return!(JSON.stringify(t)!==s||!e.details.isSunk())}))}))?"sunk":"")," "),"data-coordinate":t,onClick:e.handlePlayerAttack&&e.computerBoard?function(){return e.handlePlayerAttack(t)}:null,children:Object(l.jsx)("span",{className:"missHit",children:n(t)})},i);var s})),a=function(){if(void 0!==e.ships)return e.ships.reduce((function(e,t){return t.details.isSunk()?e:e+1}),0)};return Object(l.jsxs)("div",{className:"playerBoard",children:[Object(l.jsx)("h2",{className:e.computerBoard?"":"playerBoardTitle",children:e.title}),Object(l.jsxs)("div",{className:"singleBoard",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{className:"numberAxis",children:t}),Object(l.jsx)("div",{className:"letterAxis",children:i}),Object(l.jsx)("div",{className:"grid",children:s})]}),Object(l.jsx)("p",{className:e.computerBoard?"":"playerRemain",children:e.gameStart?e.computerBoard?"Enemy Ships Remaining: ".concat(a()):"Your Ships Remaining: ".concat(a()):null})]})},d=function(e,t){var i=[];return{length:e,name:t,hitLocations:i,hit:function(e,t){i.push({x:e,y:t})},isSunk:function(){return i.length===e}}},f=function(){var e=[{name:"Carrier",size:5},{name:"Battleship",size:4},{name:"Destroyer",size:3},{name:"Submarine",size:3},{name:"Cruiser",size:2}];return{randomizeShipLocations:function(t){0!==t.ships.length&&t.resetBoard();var i=["u","r"];return e.forEach((function(e){for(var r=!1;!r;){var n=Math.floor(10*Math.random()),s=Math.floor(10*Math.random()),a=i[Math.floor(2*Math.random())];r=t.placeShip(d(e.size,e.name),n,s,a)}})),!0},playerMove:function(e,t,i){return e.receiveHit(t,i)},computerMove:function(e,t){if(t&&!e.lastHitShip[0].ship.details.isSunk())return function(e){var t=e.lastHitShip[0],i=t.coordinate,r=i.x,n=i.y,s=t.hitAxis,a=["x","y"],c=null;if(void 0===s)for(;null===c;){var o=a[Math.floor(2*Math.random())];"x"===o?(r+1<=10&&(c=e.receiveHit(r+1,n,"x+")),null===c&&r-1>=1&&(c=e.receiveHit(r-1,n,"x-"))):"y"===o&&(n+1<=10&&(c=e.receiveHit(r,n+1,"y+")),null===c&&n-1>=1&&(c=e.receiveHit(r,n-1,"y-")))}else if("x"===s[0]){"x+"===s&&r+1<=10&&(c=e.receiveHit(r+1,n,"x+")),"x-"===s&&r-1>=1&&(c=e.receiveHit(r-1,n,"x-"));for(var u=1;null===c;)"x+"===s&&r-1>=1&&(c=e.receiveHit(r-u,n,"x+"),u+=1),"x-"===s&&r+1<=10&&(c=e.receiveHit(r+u,n,"x-"),u+=1)}else if("y"===s[0]){"y+"===s&&n+1<=10&&(c=e.receiveHit(r,n+1,"y+")),"y-"===s&&n-1>=1&&(c=e.receiveHit(r,n-1,"y-"));for(var l=1;null===c;)"y+"===s&&n-1>=1&&(c=e.receiveHit(r,n-l,"y+"),l+=1),"y-"===s&&n+1<=10&&(c=e.receiveHit(r,n+l,"y-"),l+=1)}return c}(e);var i=Math.floor(10*Math.random())+1,r=Math.floor(10*Math.random())+1,n=e.receiveHit(i,r);if(null===n)for(;null===n;)i=Math.floor(10*Math.random())+1,r=Math.floor(10*Math.random())+1,n=e.receiveHit(i,r);return n}}}(),m=function(){var e=[],t=[],i=[],r=[],n=[];return{ships:e,missedHits:i,successfulHits:r,lastHitShip:n,placeShip:function(i,r,n,s){var a=function(e,t,i,r){for(var n=[],s=0;s<e;s++)"u"===r?n.push({x:t,y:i+s}):n.push({x:t+s,y:i});return n}(i.length,r,n,s);return!function(e,t,i,r){return 0===t||0===i||t>10||i>10||("u"===r?i+e-1>10:t+e-1>10)}(i.length,r,n,s)&&(!function(e){return e.some((function(e){return t.some((function(t){var i=t.x,r=t.y;return JSON.stringify(t)===JSON.stringify(e)||JSON.stringify({x:i+1,y:r})===JSON.stringify(e)||JSON.stringify({x:i-1,y:r})===JSON.stringify(e)||JSON.stringify({x:i,y:r+1})===JSON.stringify(e)||JSON.stringify({x:i,y:r-1})===JSON.stringify(e)}))}))}(a)&&(e.push({coordinates:a,details:i,direction:s}),t.push.apply(t,Object(u.a)(a)),!0))},receiveHit:function(t,s,a){var c={x:t,y:s};if(function(e){return i.some((function(t){return JSON.stringify(t)===JSON.stringify(e)}))||r.some((function(t){return JSON.stringify(t)===JSON.stringify(e)}))}(c))return null;var o=e.some((function(e){return e.coordinates.some((function(i){return JSON.stringify(i)===JSON.stringify(c)&&(r.push(c),e.details.hit(t,s),n.length=0,n.push({coordinate:c,ship:e,hitAxis:a}),!0)}))}));return o||i.push(c),o},allShipsSunk:function(){return r.length===t.length},resetBoard:function(){e.length=0,t.length=0,i.length=0,r.length=0,n.length=0}}};var p=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),i=t[0],n=t[1],s=Object(r.useState)(!1),a=Object(o.a)(s,2),u=a[0],d=a[1],p=Object(r.useState)(null),y=Object(o.a)(p,2),j=y[0],v=y[1],O=Object(r.useState)(m()),x=Object(o.a)(O,2),S=x[0],b=x[1],g=Object(r.useState)(m()),H=Object(o.a)(g,2),N=H[0],J=H[1],B=Object(r.useState)(!1),k=Object(o.a)(B,2),M=k[0],z=k[1],A=Object(c.a)({},S),C=Object(c.a)({},N),E=function(e,t){e.ships.forEach((function(t){t.details.isSunk()&&t.coordinates.forEach((function(i,r){var n=i.x,s=i.y;"u"===t.direction?(0===r?e.missedHits.push({x:n,y:s-1}):r===t.coordinates.length-1&&e.missedHits.push({x:n,y:s+1}),e.missedHits.push({x:n+1,y:s}),e.missedHits.push({x:n-1,y:s})):"r"===t.direction&&(0===r?e.missedHits.push({x:n-1,y:s}):r===t.coordinates.length-1&&e.missedHits.push({x:n+1,y:s}),e.missedHits.push({x:n,y:s+1}),e.missedHits.push({x:n,y:s-1}))}))})),t(e)};return Object(l.jsxs)("div",{className:"gameBoard",children:[Object(l.jsx)("h1",{children:"Battleship"}),Object(l.jsx)("h2",{className:"You Win"===j?"winPlayer":"winComputer",children:u&&j}),Object(l.jsxs)("div",{className:"playerBoards",children:[Object(l.jsx)(h,{title:"Your Board",computerBoard:!1,gameStart:i,ships:S.ships,missedHits:S.missedHits,successfulHits:S.successfulHits}),i&&Object(l.jsx)(h,{title:"Enemy Board",computerBoard:!0,gameStart:i,gameOver:u,ships:N.ships,missedHits:N.missedHits,successfulHits:N.successfulHits,handlePlayerAttack:function(e){if(!u){var t=JSON.parse(e),i=f.playerMove(C,t.x,t.y);J(C),null!==i&&(C.allShipsSunk()&&(d(!0),v("You Win")),f.computerMove(A,M)&&z(!0),b(A),A.allShipsSunk()&&(d(!0),v("The Enemy has Won")),E(A,b),E(C,J))}}})]}),Object(l.jsxs)("div",{className:"buttons",children:[Object(l.jsx)("button",{onClick:function(){5===S.ships.length&&(i?(A.resetBoard(),b(A),C.resetBoard(),J(C),d(!1),z(!1)):(f.randomizeShipLocations(C),J(C),d(!1),z(!1)),n(!i))},className:5!==S.ships.length?"buttonOff":"",children:i?"Restart Game":"Start Game"}),!i&&Object(l.jsx)("button",{onClick:function(){f.randomizeShipLocations(A),b(A)},children:"Randomize Locations"})]})]})};var y=function(){return Object(l.jsx)("div",{className:"app",children:Object(l.jsx)(p,{})})};a.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.3109c4b1.chunk.js.map